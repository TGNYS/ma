-- Announcement Script (Luau) for Roblox

-- This script displays an announcement GUI to the player and allows interaction

local function createAnnouncement(player, title, content)
    -- Check if the player has a PlayerGui
    if not player:FindFirstChild("PlayerGui") then
        warn("Player does not have a PlayerGui")
        return
    end

    -- Create the ScreenGui
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "AnnouncementGui"
    screenGui.Parent = player.PlayerGui

    -- Create the Frame for the Announcement
    local announcementFrame = Instance.new("Frame")
    announcementFrame.Size = UDim2.new(0, 300, 0, 150)
    announcementFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
    announcementFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    announcementFrame.Parent = screenGui

    -- Create the Title Label
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, 0, 0.3, 0)
    titleLabel.Position = UDim2.new(0, 0, 0, 0)
    titleLabel.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    titleLabel.Text = title
    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    titleLabel.Font = Enum.Font.SourceSansBold
    titleLabel.TextSize = 20
    titleLabel.Parent = announcementFrame

    -- Create the Content Label
    local contentLabel = Instance.new("TextLabel")
    contentLabel.Size = UDim2.new(1, -20, 0.5, -20)
    contentLabel.Position = UDim2.new(0, 10, 0.4, 0)
    contentLabel.BackgroundTransparency = 1
    contentLabel.Text = content
    contentLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    contentLabel.Font = Enum.Font.SourceSans
    contentLabel.TextSize = 18
    contentLabel.TextWrapped = true
    contentLabel.Parent = announcementFrame

    -- Create the Close Button
    local closeButton = Instance.new("TextButton")
    closeButton.Size = UDim2.new(0.3, 0, 0.2, 0)
    closeButton.Position = UDim2.new(0.35, 0, 0.75, 0)
    closeButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    closeButton.Text = "Close"
    closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    closeButton.Font = Enum.Font.SourceSansBold
    closeButton.TextSize = 18
    closeButton.Parent = announcementFrame

    -- Connect the Close Button
    closeButton.MouseButton1Click:Connect(function()
        screenGui:Destroy()
    end)
end

-- Listen for PlayerAdded event to show announcement
game.Players.PlayerAdded:Connect(function(player)
    wait(1) -- Wait for the PlayerGui to load
    createAnnouncement(player, "Welcome!", "Thanks for joining the game. Have fun!")
end)